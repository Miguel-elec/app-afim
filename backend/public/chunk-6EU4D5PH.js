import{B as f,D as v,E as h,F as r,G as s,H as l,J as C,K as D,L as _,_ as y,a as d,aa as S,b as g,ca as x,da as P,l as t,s as m,t as u,w as b}from"./chunk-K3AGV3VH.js";var F=(a,o)=>o.id;function N(a,o){if(a&1&&l(0,"app-money-box",7),a&2){let e=o.$implicit,i=D();f("resetSignal",i.resetSignal)("cantitadReuso",e.cantidad)("id",e.id)("imagen",e.imagen)("nombre",e.nombre)("valor",e.valor)}}var M=class a{router=t(S);route=t(y);datos=t(x);cambio=0;resetSignal=m(0);listaMonedas=m([]);ngOnInit(){let o=this.route.snapshot.queryParams;console.log("params:",o);let e=parseFloat(o.cambio);isNaN(e)?console.warn("No se recibi\xF3 valor v\xE1lido de cambio."):(this.cambio=e,console.log("Cambio recibido:",this.cambio),this.calcularCambioSimplificado(),console.log(this.listaMonedas()))}calcularCambioSimplificado(){let o=[50,20,10,5,2,1,.5,.2,.1],e=this.cambio,i=[];o.forEach(n=>{let c=Math.floor(e/n);if(c>0){let p=this.datos.getDatos().find(R=>R.valor===n);p&&i.push(g(d({},p),{cantidad:c})),e-=c*n,e=parseFloat(e.toFixed(2))}}),this.listaMonedas.set(i)}irPanginaDinero(){this.router.navigate([""])}static \u0275fac=function(e){return new(e||a)};static \u0275cmp=b({type:a,selectors:[["app-pagina-dinero"]],decls:10,vars:0,consts:[[1,"contenedor-app"],[1,"contenedor-entrada-precio"],[1,"titulo-bolsillo"],["aria-label","Reproducir precio",1,"boton-sonido",3,"click"],["src","assets/img/volver.png","alt","Icono de cambio"],[1,"separador"],[1,"rejilla-dinero"],[3,"resetSignal","cantitadReuso","id","imagen","nombre","valor"]],template:function(e,i){e&1&&(r(0,"div",0)(1,"div",1)(2,"h2",2),_(3,"Cambio"),s(),r(4,"button",3),C("click",function(){return i.irPanginaDinero()}),l(5,"img",4),s()(),l(6,"hr",5),r(7,"div",6),v(8,N,1,6,"app-money-box",7,F),s()()),e&2&&(u(8),h(i.listaMonedas()))},dependencies:[P],encapsulation:2})};export{M as PaginaDineroComponent};
